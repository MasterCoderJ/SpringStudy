AmCharts.translations["export"] || (AmCharts.translations["export"  = }),  AmCharts.translations["export"]en ||  (AmCharts.translations["export"].en = {  "fallback.save.text":  "CTRL + C to copy the data into the clipboard.", "fallback.save.image"  "Rightclick -> Save picture as... to save the image.",  "capturing.delayed.menu.label": "{{duration}}", "capturing.delayed.menu.title":  "Click to cancel",  "menu.label.print": "Print",  "menu.label.undo": "Undo", " menu.label.redo":  "Redo", "menu.label.cancel":" Cancel",  "menu.label.save.image": "Download as ..."  "menu.label.save.data":  "Save as ...",  "menu.label.draw":  "Annotate ...", "menu.label.draw.change":  "Change ...", "menu.label.draw.add": "Add ..."  "menu.label.draw.shapes":  "Shape ...", "menu.label.draw.colors": " Color ...",  "menu.label.draw.widths": " Size ...",  "menu.label.draw.opacities": "Opacity ...", " menu.label.draw.text":  "Text", "menu.label.draw.modes"  "Mode ...", "menu.label.draw.modes.pencil"  "Pencil",  "menu.label.draw.modes.line":  "Line", "menu.label.draw.modes.arrow":" Arrow",  "label.saved.from":  "Saved from: " }),  function()   AmCharts["export"]  c tion(t, r) {  var s, d =   {  name:  "export", version:" 1.4.76", libs:  { async  !0, autoLoad:  !0  reload: !1  resources: ["fabric.js/fabric.min.js",  "FileSaver.js/FileSaver.min.js",  { "jszip/jszip.min.js": ["xlsx/xlsx.min.js"],  "pdfmake/pdfmake.min.js": ["pdfmake/vfs_fonts.js"] },  na mespaces: {  " pdfmake.min.js":  "pdfMake", "jszip.min.js": "JSZip",  "xlsx.min.js": "XLSX"  "fabric.min.js": abric", F ileSaver.min.js": "saveAs" },  l oadTimeout: 1e4,  unsupportedIE9libs: ["pdfmake.min.js",  "jszip.min.js", "xlsx.min.js"] }  config: {},et up: { chart: t,  h asBlob: !1,  wrapper: !1, isIE  !!window.document.documentMode, IEversion: window.document.dumentMode, hasTouch: "o bject" = =  typeof window.Touch, focusedMenuItem: v oid 0,  hasClasslist: "classList"  in document.createElement("_") }, drawing:  { enabled: !1, undos:  , r edos:[],bu ffer: { s i on: { x1: 0,  y1: 0 , x2:  0,  y2 : 0, x D: 0,y D:  }   }, handler: u ndo:  function( { var c =   d.drawing.undos.pop(); i f c){ i f (c.selectable =  !0, .drawing.redos.push(c), " added" ==  c.action) dsetup.fabric.remove(c.arget); else { i f !c.target.changed  && "added:modified"  == c.action) return void d.drawing.handler.undo(); var u = JSON.parse(.state);  c.targetrecentState = c.state,  c.target instanceof fabric.Group ? (u =   d.prepareGroupState(u), c.target.set(u),  d.drawing.handler.hange({ color: u.cfg.color,  width: u.cfg.width, opacity: u.cfg.opacity }, !0, c. target)) :  c.target.set(u) } d.setup.fabric.renderAll() } }, redo: function() {  var c =  d.drawing.rdos.pop(); if ( { if  (c.selectable =   !0, d.drawing.undos.push(c), "added" == c .ation) d .etup.fabric.ad(c.target); else if ("added:modified" == c.action) return void d.drawing.handler.redo(); var u   JSON.parse(c.state); c.target.recentState  = cstate,  c.target instanceof fabric.roup ? ( u =  d.prepareGroupState(u), ctarget.set(u),  d.drawing.handler.change( color: u .cfg.color, width: u.cfg.width, opa city: u. cfg.opacity } ,  !0, c.target)) : c.target.set(u),d .setup.fabric.renderAll() }  }, done:  function() {  d.drawing.enabled =  !1,  d.drawing.buffer.nabled = ! 1,  drawing.undos = [],  d. drawing.redos = [ ],  d.reateMenu(d.config.menu),  d.setup.fabric.deactivateAll(), d.sElement(d.setup.wrapper)  && d.isElement(d.setup.wrapper.parentNode)  &&  d.setup.wrapper.parentNode.removeChild  && (d.setup.wrapper.parentNode.removeChild(d.setup.wrapper),  d.setup.pper = ! 1 ) } , add: f unction(c) { var u =  d.deepMerge({ top: .setup.fabric.height /    left: d .setup.fabric.width  / 2  c || {}), f   = -1 == u.url.idexOf(".svg") ?   fabric.Image.fromURL : fabric.loadSVGFromURL; ( u.url, f unction(h, m)  { var w = v oid 0 == = m   ? h   fabric.util.groupSVGElements(h, ),N = !1(w.height >   d.setup.fabric.height | | w.width  > d.setup.fabric.width) &&   =  d.setup.fabric.height / 2 /  w.height), u. top >  d.setup.fabric.height  && (u.top = d.setup.fabric.height /   2), u.left >  d.setup.fabric.width &&  ( u.left  = d.setup.fabric.width / 2)  d.drawing.buffer.isDrawing   !, w.set({ originX: "center", or iginY: " center", t op: u.top, e ft: u.left, i dth: N ?  w.width  *   : w.width, heigh t: N ?  w . height *  N  : wheight, i ll: d.drawing.color }),  d. setup.fabric.add(w) })  }, c hange: function(c, u, f)  { var m  w, Nh  =  d.deepMerge({}, c  | |  {}),   = f || d.drawing.buffer.target, T  S   ? . _objects ? . bjects : [S] : nul l; if (h.mode &&  ( d.drawing.mode  = h.mode)  h.width &&  (d.drawing.width   h.idth,  d.drawing.fontSize = hontSize = 3  *  h.width, 1   == d.drawing.width && ( d.rawing.fontSize =  h.fontSize =  d.efaults.fabric.drawing.fontSize)), h .fntSize && ( drawing.fontSize =  h .fontSize), h.color &&  (d.drawing.color = h.color), h.opacity  && (d.drawingpacity = h .opacity),  N = d.getRGBA(d.drawingcolor),N .pop(),  N.push(d.drawing.opacity),  drawing.coor = " rgba(" +  N.join() +  ")",  d.setup.fabric.freeDrawingBrush.color =  d.drawing.color, .setup.fabric.freeDrawingBrush.width  = d.drawing.width, )  o r (m =   JSON.parse(S.recentState).cf, m  && (h.color =  h.cor || m.c olor, h.width = h . width | | m.width,h .opacity =  h.opacity ||  m.opacity, h.fontSize  = hfontSize  ||  ontSize, N  =   d.etRGBA(h.color),  N.pop() N.push(.opacity), h .lor =  "rgba(" +  N.join() +   ")"), S.changed = !,  = 0 ;  <  T.length; w ++)T [w] instanceof fabric.Text | | T[w]  instanceof abric.PathGroup ||  T[w] instanceof fabric.Triangle ?  ((h.color ||  h.opacity) && T [w].set({  fill: h.color  }), h.fontSize & &  T[w].set({ fontSize: .fontSize } )) : (T[w] instanceof fabric.Path  || T[w] instanceof fabric.Line) && (S instanceof abric.Group ? (h.color ||  h.opaity) && T[w].set({ st roke: h .color  }) : ((h.color ||  h.opacity) && T[w].set({ stroke: h.olor }),h. width & &  T[w].set({ strokeWidth  hwidth })));u  || ( m =  JSON.stringify(d.epMerge(d.geState(S), { cfg:  { co l or: h. color, wi dth: h .width, opacity:h .opacity  } )),  S.recentState =  m  d.drawing.redos  [ ],  d.drawing.undos.push({  action: "modified", target:S, s tate: m })),  d.setupfabric.renderAll(   }, text: u nction(c) { va r u =  d.deepMerge({ text:d .i18l("menu.label.draw.text"), top: d .setup.fabric.height /  2, left: d.setup.fabric.width /  2, fontSize:  d.drawing.fontSize, fontFamily:  d.setup.chartfontFamily  "V erdana", f ill:  d.rawing.clor }, c { }); u.c lick =  function() } ; va r f =  new fabric.IText(u.text, u);  return d.drawing.buffer.isDrawing = !0,  d.setup.fabric.add(f), d.setup.fabric.setActiveObject(f)  f.selectAll(), f.enterEditing, f },  line: unction(c var f, h, m, w, u =   d .deepMerge({ x1: d. setup.fabric.widh / 2   - d.setup.fabric.width /  10, x2:  d.setup.fabric.width   +   d.setup.fabric.width /   10, y1  d.setup.abric.height  / 2, y2: d.setup.fabric.height / 2,  angle: 90 , s trokeLineCap:  d.drawing.lineCap, arrow: . drawing.arrow, co lor: d .drawing.color, width:  d.drawing.width, group: [}  |   {} ), N  =  new fabric.Line([u.x1, u.1,u .x2, u.y2], {  stroke:  color, s trokeWidth: u .width,  rokeLineCap: u .strokeLineCap }) ; if (u.group.push(N), u .arrow  && (u.angle   u.ngle ? . angle :   d.getAngle(u.x1,  u.y1, u.x2 u.y2) "start" == u. arow ? (m = u. y 1 + u.width / 2, w  = u .x1 +  u.width 2 )  : "middle" ==  u .row ? (   u.y2 uwid t h / 2 - ( u .y2 - u .y1) /  2 ,  =   u.x2 + u.width / 2   - ( ux2 -   1)/ 2 )  (m = u.y2  +u. width / 2,  w=  u. x2 + u.width /  2),  h   new fabric.Triangle({  top: m left: w,  fill: u.color, h eight: 7* u .width, width: 7  * u .wdth, angle: u .angle, originX:  "center"  originY: "bottom" } ), u.group.push(h)), d. drawing.buffer.isDrawing =  !0, "config"  != u.action) {  if (uarrow) {  v ar S =  new fabric.roup(u.group); e turn S.set({ c fg:  u, fill: u.color  action: u.action,  lectable: !0 , known: "change" ==  u. action }), c hange" == u .action  && d.setup.fabric.setActiveObject(S)  d.setup.fabric.add(S) S  } return d.setup.fabric.dd(N),N   f or (f  = 0; f <   u.group.length; f++)ugroup[f].ignoreUndo =  !0,  d.etup.fabric.add(u.grp[f]); ret urn u }  } }, defaults: {  p osition: "top-right",  fileName: "amCharts", action:  "download", overflow: !0 p ath: ( t.path  || "") + "plugins/export/", fo rmats: { JPG:   m imeType: "image/jpg", exe nsion: "jpg", capt ure: !0  },  PNG: {  mimeType:  "image/png", extension:  "png",  capture: ! 0}, S VG: {  mimeType: "text/xml", extension: "s vg", capture: !0  },  PDF: {   mimeType: "application/pdf", e xtension: "pdf",  capture: !  }, SV: {   mimeType: "text/plain",  extension:  "csv" }, JSON: { m imeType: " text/plain", exe nsion: "js on" },  X LSX: {  mimeType: "application/octet-stream",e xtension: "xlsx"  } }, fabric: { backgroundColor:  "#FFFFFF",  removeImages: ! 0,  forceRemoveImages: !1, election: !1,  loadTimeout: 5e3, rawing: {n abled: !0,  arr ow: "e nd", lineCap: " butt",mode: "pencil", m odes: ["pencil",  "line", "arrow"]  color:  "#000000",  colors: ["#000000",  "#FFFFFF",  "#FF0000", #00FF00",  "#0000FF"], shapes: ["11.svg", "14.svg", " 16.svg",  7.svg", "20.svg", "2 7.svg"], w idth: 1 fo ntSize: 11, i dths: [1 , 5, 1 0,  15], opacity:  1, opacities: 1, 0.8,  0.6, 0.4, 0.2] menu: v oid 0, au toClose: !0  }, bo rder: { fi ll: "" , fillOpacity: 0 tr oke: "# 000000", strokeWidth: 1 ,  strokeOpacity:  } },  pdfMake:  { images: { }, pageOrientation: "portrait",  pageMargins: 40,p ageOrigin: !0, pa geSize: " A4", p ageSizes: {  A0": [ 4767.87, 6740.79], " 2A0":  370.39, 4767.87], 0 : [2383.94, 3 370.39], A1: [ 1683.78,  2383.94], A2:  [1190.55,  1683.78], A3:  [841.89, 1190.55] A4: [55.28, 8 41.89], A 5: [ 9.53, 59 5.28], A 6:  [297.64, 419.53]  A7: [209.76, 97.64], A:  [1 .4, 209 .76], A9 : [ 104.88, 147.4], A10:  [73.7, 104.88]  B0: [2834.65,  4008.19], B1: [2004.09,  2834.65],B 2: [117.32, 2 004.09],  B3: [1000.63, 417.32],  : [ 8.66, 100 0.63], B5: 498 .9, 708 .66], B6 : [ 354.33, 498.9],  B7: [249.45, 354.33]  B8: [175.75  249.45] B9: [124.72, 175.75], B 10: [ 87.87,  124.72], C0: [2599.37, 3676.54],  C1: 1836.85, 2599.37], C2: [1 28.27, 13 6.85], C3 : [918.43, 1 298.27],  C4: [649.13, 918.43],C 5: [459.21, 649.13], C6:  [323.15, 459.21] C 7:  [229.61,  3.15],C8 : [ 1.57, 22 9.61], C 9: [ 113.39, 161.57], C10: [79 .37, 113.39], RA 0: [ 2437.8, 3458.27],  RA1: [1729.13, 2437.8], RA2: [1218.9,  1729.13, RA3: [864.57,1 218.9],  RA4: [609.45,8 64.57], SRA0:  [2551.18, 3628.35], SRA1: 1814.17, 2551.18], S RA2: 1275.59, 18 14.17], S RA3: [ 907.09, 1275.59], SRA4: [ 637.8,  907.09], EXECUTIVE: [521.86,  756], FOLIO: [612, 936], L EGAL: [ 612, 1 008] LETTER: [6 12, 792], TA BLOID: [79 2, 1224] } }, me nu: v oid 0,  divId: null  menuReviver:  null, menuWalker: ull,  fallback:  !0, keyListener: !0,  fileListener: !0 , compress: ! 0,  debug: !1 , l istenersToRemove: [] , i l: function(c, u) {  var f = u   u :  d.setup.chart.language  ? d.setup.chart.language :"en", h  =  AmCharts.translations[d.name][f] ||  AmCharts.translations[d.name]en; return h[c]| | c  }, prepareGroupState: function(c) { re t urn c = c  || { } d elete c.width, delete c.strokeWidth,  c }, getState  function(c) {  var u =   c.saveState(); return u._stateProperties  || u.originalState }, d ownload:f unction(c,  f) { if  (window.saveAs &&  d .setup.hsBlob) d. toBlob({ data: c, t ype:  u }  function(T {  saveAs(T, f )  }); else if (d.config.allback  && "text/plain" ==  u) {  var m =  document.ceateElement("div"), w   = document.createElement("div"), N   = document.createElement("textarea"); w.innerHTML  = d.i18l("fallback.save.text")  m.appendChild(w), m.appendChild(N)  w.setAttribute("class",  "amcharts-export-fallback-message"),  m.setAttribute("class", "amcharts-export-fallback")  d.setup.chart.containerDiv.appendChild(m),  N.setAttribute("readonly", ""), N .value =   N .focus(), N.select(), d. createMenu([{ " class":  "export-main export-close", label: " Done", click:  function() { d.createMenu(d.config.menu),  d.isElement(d.setup.chart.containerDiv) &&  d.setup.chart.containerDiv.removeChild(m) } ])  } else if (d.config.fallback && "image" ==  u.split(")[0]) { var m =   document.createElement("div"), w   = document.createElement("div"), S =  o Image({ data: c } ) ; w .innerHTML  = d.i18l("fallback.save.image"), m.appendChild(w), m.appendChild(),  w.setAttribute("class", "amcharts-export-fallback-message"),  m.setAttribute("class", "amcharts-export-fallback"),  d.setup.chart.containerDiv.appendChild(m),  dcreateMenu([{  "class": "export-main export-close", l el: "D one", cl ick: f unction() {  d.createMenu(d.config.menu), d.isElement(d.setup.chart.containerDiv  && d.setup.chartcontainerDiv.removeChild(m) }  }])  } else throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.")  return c } ,  loadResource: function(c, u ){ function f() {  d.handleLog(["amCharts[export]: Loading error on ", this.src  || this.href].join("")) }  function h()  if (u) for (m =    m  < . length; m+ +)d. loadResource(u[m]) } v ar m, w,  N  S, , A, M = -1 ==  c.indexOf("//") ?   [d.libs.path, c].join("")   c; or (1 ==  c.indexOf(".js") ? - 1 !=  c.indexOf(".css") &&  ( N = document.createElement("link"), N .setAttribute("type", " text/css"), N.setAttribute("rel",  "stylesheet"), N.setAttribute("href" M)): (N  = document.createElement("script"),  N.setAttribute("type", "text/javascript"),  N.setAttribute("src", M) d .libs.async &&  N.setAttribute("async", "")), m =  0;  m   < document.head.childNodes.length;  +)if  (S = d ocument.head.childNodes[m], T  = !!S && (Src | | S.href), A  = !!& tagName, S &&T  &&  -1 != T .i ndexOf(c)) { d .libs.reload && document.head.removeChild(S), w  = !0; break  } Object.keys(d.libs.namespaces).some(function(F) {  var D = d.libs.namespaces[F], E = c.toLowerCase(), I = F.toLowerCase(); if -1  !=  E.indexOf(I)){ if (d.setup.sIE &&  9 >= d.setup.IEversion &&  d .libs.unsupportedIE9libs && -1  != d.libs.unsupportedIE9libs.indexOf(I)) re turn ! 1; if (void 0  !== window[D)  return   ! !0  }  }), (! ||  d. libs.reload) & &  (.addEventListener("load", h), d .ddListenerToRemove("load", N,  h ), N.addEventListener("error", f),  d.addListenerToRemove("error", N  f), document.head.appendChild(N)) }, addListenerToRemove:  function(c, u,  f ) { d.listenersToRemove.push({ n ode:  u, ethod: f, event: c} ) },  l oadDependencies: f unction()  { var c  if (d.libs.autoLoad) or (c =  0; c  <  d.libs.resources.length;  c++) d.libs.resources[c] instanceof Object  ? Object.keys(d.libs.resources[c]).some(function(f{  d.loadResource(f,  dls.resources[c][f]) })  :   d.loadResource(d.libs.resources[c])  }, pxToNumber: function(,  u) { return !c & &    i d 0 : +( c +   "")replace("px", "") |  0    n umberToPx:function(c)   return c " px" },  cloneObject: f unction(c) {  var u, ,m , w;  return u =  Array.isArray(c) ? []  :   {}, Object.keysc).some(function(N) { f  c[N], m =  "object" == ty peof f, w  = f instanceof Date,  u[N] =  m  ! w ?  d.cloneObject(f) :f   }), u }, deepMerge: function(c, u, f)  { v m, w =  u  instanceof Array ?   "array"   "object"; return c  stanceof Object | | c instanceof Array ?  (Object.keys(u).some(function(N)  { return "array" = = w   i sNaN(N)  ? !1 o id (m=u[N  (c & &  void 0 ==  c  | f) & & (m  instanceof Array ? c[N] =  [ ]  : m instanceof Function ?  c[N] = function() { } : m instanceof Date ?   c[N] = new Date : m instanceof Object ? c[N]  :  m n stanceof Number ? c[ N ] = ne w Number : m instanceof String & & (c[N] = new String)),  (m instanceof Object || m instanceof rray) & &  !(m instanceof Function ||  m instanceof Date  || d.isElement()&& "chart" !=  N  & "scope" !=  N  ? d.deepMerge(c[N], m,  f)  c instanceof Array & & !f  ? c.push():  c   ( c[] m)) ),  c) : c } , is Element: f unction(c) {  urn c instanceof Object &&  c  & &  = == c.nodeType },  isHashbanged: function() {  var u = (  + "").replace(/\"/g, " ");return " url" == u .slice(0, 3)  && u.lice(u.indexOf("#") + 1 ,  u.length -  1) }, i sPressed: function(c) {return "m ousemove" = = c.type  && 1 === c.which ||  ("touchmove" ==  type || 1 = == c.buttons ||  1 = c.button ||  1  === c.whch ? d. d rawing.buffer.isPressed = ! 0 : d .drawing.buffer.isPressed =  !1), d.drawing.buffer.isPressed ,  removeImage: function(c) if  (c) {  i f  (d.config.fabric.forceRemoveImages) return !0; i f  (d.config.fabric.removeImages && d .sTainted(c) return !0;  if  (d .setup.isIE & & (10  == d.setup.IEversion ||  11 =  d.setup.IEversion) && - 1  != c.toLowerCase().indexOf(".svg" ret urn !0  ret urn !1  }, is Tainted: fun ction(c) { va r u =  ( window.location.origin ||  window.location.protocol + "//" +  window.location.hostname +   (window.location.prt ? " :"  + window.location.port : "" + "";  if (c) { i f (- 1 ! =  u.indexOf(":\\") ||  -1  != c.indexOf(":\\") ||  -1!=  u.indexOf("file://") || -1  ! =  c.indexOf("file://")) return ! 0; if (-1!= c. indexOf("//") && - 1 == c.indexOf(u.replace(/.*:/, "" ))) return  !0   return !1 },  isSupported:  function() { return !!d.config.enabled & &  (dsetup.isIE  && 9 >= .setup.IEversion  && (!rray.prototype.inOf || ! do cument.head || !1  == = d .config.fallback) ? !1 : !0) }, getAngle:  function(c,, f, )  a N , m  -   c w  = h -  u;  ret urn N =  0 = = m ? 0  ==   :   <   w ? Math.PI / 2: 3   Math.PI / 2 :  0  = =  w   0 < m   0  :  Math.PI : 0 > m ? Math.atan(w / m)  Math.PI :  0 > w ? Math.atan(w /   2  h I  : Math.at an(w / m),  1 80N  / Ma t h .PI },  gatherAttribute: function(c, u, f,  h )  { var m h  h : 0 , f  = f   ? f :  3; return c &&    c.getAttribute(u), !m &&  h  < f ) ? .gatherAttribute(c.parentNode,  u  fh 1)  : m  } ,  gatherClassName: function(c, u, f,  h) { var  m, h = h  ?  h :   0, f     f : 3 ; if  (d.isElement(c)) { i f (m  = - 1  != (c.getAttribute("class"  || "".t(" ").indexOf(u), !m & &  h  < f )  return d.gatherClassName(c.parentNode, u, fh  + 1)m  ( m = c )  }   return m }, gatherElements:f unction(c,, f) { var  h,   for  (h  = 0; h <  c .children.length;  h++) { var =   c.children[h] i f  ("clipPath"  == taName) {  v ar N  = {}, S = fabric.parseTransformAttribute(d.gatherAttribute(w, "tra nsform")); for  (m  = 0 ;  m < w.childNodes.length; m++)w.childNodes[m].setAttribute("fill",  "transparent"),  =  { x :  d.pxToNumber(w.childNodes[m].getAttribute("x")),  y: d.pxToNumber(w.childNodes[m].getAttribute("y")),  width: d.pxToNumber(w.childNodes[m].getAttribute("width")), height  d.pxToNumber(w.childNodes[m].getAttribute("height"));  c ippings[w.id] = { sv g : w,  b box:  N, transform: S   } else if  ("pattern" == w.gName) {  v ar T =   node: w, s ource:  w.getAttribute("xlink:href"), width:  +w.getAttribute("width"), height: w.getAttribute("height"), rep eat: "r epeat", o ffsetX: 0,  offsetY:   }; for (m  0 ;  m <   w.childNodes.length; m++)i f ("rect" ==  w.childNodes[m].tagName) T.fill   w.childNodes[m].getAttribute("ll"); else if (" image" ==  w .hildNodes[m].tagName) {  var A =  fabric.parseAttributes(w.childNodes[m],  fabric.SHARED_ATTRIBUTES); A.transformMatrix  && (T.offsetX =  A.transformMatrix[4], T.ffsetY  = A.transformMatrix[5]) }   d.removeImage(T.source) ?  c.patterns[w.id = T.fill ? T.fill :  "transparent" : c atterns[T.node.id] = T   } else if ( "image" ==  w.tagName) f.included++, fabric.ImagefromURL(w.getAttribute("xlink:href"),  function()   f.loaded ++ }) e lse { var A =  [ "fill", "strok e"]; for (m = 0 ;  m  <   A .length;  m++) { var  =  Am, F  =  w.getAttribute(M), D  =   d.getRGBA(F), E = d.isHashbangedF); !F || D ||  |  ( w.setAttribute(M,  "none"), w.setAttribute(M +  " pacity", "0")) }  }   r eturn c },  getRGBA: function(cu )  { return none" ! =  c && transparent" != c  && ! d. isHashbanged(c) &&  (c =   new bric.Color(c), ._source) && (u ? c :  c. getSource()) } ,  gatherPosition: function(c   {   var m, f = d.drawing.buffer.position, h  = fabric.util.invertTransform(d.setup.fabric.viewportTransform); r eturn "touchmove" == c .ye &&  ("touches" in  c ?  c = .touches[0] : "c hangedTouches" i n c &&  (c   c.changedTouches[0])),   = fabric.util.transformPoint(d.setup.fabric.getPointer(c0), h,  1 == u & &  (f.x1 = m. x , f.   m. y), f.x 2 = m.x, f. y2 = m.y, f .xD  =   > .x1 - f.x 2 ?    *  ( fx1 - f ) : f.x1  - f. x  f.y  = 0 >  f.y 1 -  f.y2 ?  -1 *  (f.y1 -  f.y2) : fy - f .y2,  f }, modifyFabric: function()   fabric.ElementsParser.prototype.esolveGradient =  n ction(c, u) { var f =  c .get(); i f (/^url\(/.test(f { va h = f .slice(f.indexOf("#") +1 ,  f .length  - 1); f  (fabric.gradientDefs[this.svgUid][h) {  var m  = fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][h],  c)  m.coords.y1 && " pie" != d.setup.chart.type & & (m.coords.y2 =  -1 * m.cds.y1, m.co ords.y1 = 0),  c.set(u, m)  }  }  },  fabric.Text.fromElement   function(c, u) { i f  (!c) return ull; var f =   fabric.parseAttributes(c,  fabric.TextTTRIBUTE_NAMES); u =  fabric.util.object.extend(u ?  fabric.util.object.clone(u) : { }, f),  u.top   u.top   0 , u.left =  u.left ||  0 "dx" in f & (u .left += f. d), "d y" in f & & (u.top + = f.dy), "fontSize" in u || ( u.fontSize  = fabric.Text.DEFAULT_SVG_FONT_SIZE), u.originX  || (u.originX  = "left")  var   ,  m =  [ ];  if (!("textContent" in  ) "firstChild" in c &  null ! == c.firstChild && "d ata" in c.fistChild &&  n ull !== c.firstChild.data && m .push(c.firstChild.data); else if ( c.childNodes)  for (var w 0 ;  <   c.childNodes.length; w++)m.push(c.childNodes[w].textContent)  else m.push(c.textContent); h =  mjin("\n"); v ar  = n ew fabric.Text(h, u) , S =  0;r urn "l eft" === N.originX && (S = N . getWidth() /  2)," right" ===  N.originX   (S =   -N.idth() / 2),   1 <   m.length ?   se({ left: N. getLeft() + S , top:  N.getTop() + N.fontSize * (m.length 1 *  ( 0.18 +  N._fontSizeFraction), textAlign: u .originX, lin eHeight: 1 <   l ength ? 0.965 : 1. 16 } ) :  N.set({ left: N.getLeft( +   t op:  N.getTop() - N.Height() / 2   +   fontSize * (0.18 +  N ._fontSizeFraction) } ), N } }, capture: f unction(c,  u) { var ,  =   d.deepMerge(d.deepMerge({}, d.config.fabric), c| }), m  = ] ,   = x : 0 ,  y : 0, pX:  0, pY : 0, l X: 0,  lY: ,  width:  d.setup.chart.divRealWidth, height: d.setup.chart.divRealHeight } ,  N   { loaded: 0, in ded: 0 }, S  =  {  items: [], wid th: 0  height: 0  maxWidth: 0,  m axHeight:  0 }  if (!d.handleNamespace("fabric"  { scope this,  cb: d.capture, args: a rguments }) ) return ! 1 d .modifyFabric(),  d.handleCallback(h.beforeCapture, h)  var T = d.setup.chart.containerDiv.getElementsByTagName("svg"); for (f  = 0;  f   < T.length; f++)   var A  {  svg:  T[], parent:  T[].parentNode, c hildren:  T[f].getElementsByTagName("*"), of fset: {  x: 0 y:  0 } patterns: {}, cl ippings: { }, has: {  legend: !1, panel: !1, scrollbar: !1  }  } ;A .has.legend =  d.gatherClassName(A.parent, d.setup.chart.classNamePrefix +  "-legend-div", 1 ),  A.has.panel = dgatherClassName(A.parent,d .etup.chart.classNamePrefix +   "-stock-panel-div"), A.has.scrollbar  = d.gatherClassName(A.parent,  d.setup.chart.classNamePrefix +  "-scrollbar-chart-div"), A  =  d.gatherElements(A, h, N), m .push(A)  } if (d.config.legend) { i f ("stock"  == etup.chart.type) for (f =  0 ;  f < d.setup.chart.panels.length;  f++) d.setup.chart.panels[f].stockLegend &&  d.setup.chart.panels[f].stockLegend.dvId & &  S.items.push(d.setup.chart.panels[f].stockLegend); else d.setup.chart.legend  && d.setup.hart.legend.divId & &  S.items.push(dsetup.chart.legend); for  (f =  0; f  <  S.items.length; f++) { var M =   S.itemsf],  =  {  svg: M.container.container,  parent: M.container.container.parentNode, children:  M.container.container.getElementsByTagName("*"), offset: { x:  0 ,  y: 0} , le gend: { i d: f,  type:  = =  ["top", "left"].indexOf(d.config.legend.position)  ? "push"  : "unshift",p osition:  d.config.legend.position,  width: d.config.legend.width ?  d.config.legend.width :  M.container.div.offsetWidth,  height: d.config.legend.hight ? d.config.legend.height :  M.container.div.offsetHeight }, patterns:  {}, clippings:  {,  has: l egend:  !1, panel: !1  scrollbar: !1   }; S .width + = A.legend.width,  S.height += A.egend.height, S .maxWidth = A.legend.width > S.maxWidth ? A.legend.width : S.maxWidth, . maxHeight = A .legend.height  > S.maxHeight  ? A.legend.height : S.maxHeight, A   = d.gatherElements(A, h, N)  m[A.egend.type](A) } - 1  == ["top", "bottom"].indexOf(d.fig.legend.position) ?  - 1  == ["left", "right"].indexOf(d.config.legend.position) ? (w . height +=  S.height, w.width + =  S.maxWidth)   (w.width  += S.maxWidth,  w.height  = S.height >  w.height ?  S.hght :  w eight) : (w .with = S.maxWidth > w.w idth ?  S.maxWidth :  w.width,  w.height += S.height)  if  (d.drawing.nabled  = h.drawing.enabled =  "draw" ==  h .action,  d.drawing.buffer.enabled  d .drawing.nabled, d .setup.wrapper  = document.createElement("div"), d.setup.rapper.setAttribute("class",  d.setup.chart.classNamePrefix + "-export-canvas"),  d.setup.chart.containerDiv.appendChild(d.setup.wrapper), "stock"  == d.setup.chart.type) {  v ar F =  { top: 0  right: 0,ottom: 0,  left: 0 } ;  d.setup.chart.leftContainer && ( w.width -=  d.setup.chart.leftContainer.offsetWidth, F.left  = d.setup.chart.leftContainer.offsetWidth + 2 *  d.setup.chart.panelsSettings.panelSpacing), d .setup.chart.rightContainer & & (w.width - =  d.setup.hart.rightContainer.offsetWidth, F.right  = d.setup.chart.rightContainer.offsetWidth  2 *  d.setup.chart.panelsSettings.panelSpacing),  d.setup.chart.periodSelector & -1  ! = ["top",  "bottom"].indexOf(d.setup.chart.periodSelector.position) &&  (w.height -= d.setup.chart.periodSelector.offsetHeight +   d.setup.chartpanelsSettings.panelSpacing,  F[d.etup.chart.periodSelector.position] += d.etup.chart.periodSelector.offsetHeight  + d.setup.chart.panelsSettings.panelSpacing), d.setup.chart.dataSetSelector && -1 =  ["top", "bottom"].indexOf(d.setup.chart.dataSetSelector.position) & &  (w.height -= d.setup.chart.dataSetSelector.offsetHeight  F[d.setup.chart.dataSetSelectorposition] +=  d.setup.chart.dataSetSelector.ffsetHeight),  d.setup.wrapper.style.paddingTop =  d.numberToPx(F.top), d.setup.wrapper.style.paddingRight = d .numberToPx(F.right),  d.setup.wrapper.style.paddingBottom =  d.numberToPx(F.bottom), d.setup.wrapper.style.paddingLeft =  d.numberToPx(F.left)  } d.setup.canvas =  document.createElement("canvas"),  d.setup.wrapper.appendChild(d.setup.canvas); v ar D  = d.removeFunctionsFromObject(d.deepMerge({ width:  w.idth, height: w .height,  isDrawingMode: !0 ,  );  for  (d .setup.fabric =   new fabric.Canvas(d.setup.canvas, D), d.deepMerge(d.setup.fabric h),  d.deepMerge(d.setup.fabric.freeDrawingBrush, h.drawing),  d.deepMerge(d.drawing,  h.drawing),  d.drawing.handler.change(h.drawing), d.setup.fabric.on("mouse:down",  function(E) { d.gatherPosition(E.e,1 );  d.drawing.buffer.pressedTS  = +new Date, d.isPressed(E.e,  d.drawing.buffer.isDrawing  = !1, d.drawing.buffer.isDrawingTimer  = setTimeout(function()  d.drawing.buffer.isSelected  || (d.drawing.buffer.isDrawing = !0)  }, 200  }), d.setup.fabric.on("mouse:move"  function(E) { var I =   d.gatherPosition(E.e, 2); if (d.isPressed(E.e),  d.drawing.buffer.isPressed && !d.drawing.buffer.isSelected && (d.drawing.buffer.isDrawing =  !0,! d.drawing.buffer.lne && "pen cil" !=  d.drawing.mode &&  (5 <  I.xD | |  5 < I.yD)  && (d.setup.fabric.isDrawingMode  = !1  d.setup.fabric._isCurrentlyDrawing =  !1, d.drawing.buffer.ignoreUndoOnMouseUp =   !0, d.setup.fabric.freeDrawingBrush.onMouseUp(),  d.setup.fabric.remove(d.setup.fabric._objects.pop()) d .drawing.buffer.line = d.drawing.handler.line({ x1:  I.x1, y1 : I.y1, x2: I .x2,  y2: I.y2, arrow:  "line" ! =  d.drawing.mode && d.drawing.arrow, a ction: "config" }))),  d.drawing.buffer.isSelected  && (d.setup.fabric.isDrawingMode  = !1),  drawing.buffer.line) {  v ar P,   B,   = d .drawing.buffer.line;  for (G.x2  = I.2, G.yI.y2 , f =  0;  f <  G.group.length; f++)P  =  G.group[f],  P instanceof fabric.Line ? P.set({ x:  G. x2, y2: G.y2})  :  P instanceof fabric.Triangle &&  (G.angle = d.getAngle(G.x1, Gy1,G .xG.y 2) +  9 0, "start" == G.arrow ? (O = G.y + G. width / 2 B  = G .x1 +  G.width /   2) : "middle"  == G.rrow ? ( O =G . y +  idt / 2 - (G .   - G.y1)  / 2,   B  =  G.x2  + G.width /  2 -  (G.x - G.x1)/ 2) O = G.y2 + G.width / 2, B  = G.2 +   G.width /  2), P.e({ to p: O,  l eft:   angle: G.angle } ));  d.setup.fabric.renderAll() }  }), d.setup.fabric.on("mouse:up", function(E) { f  (!d.drawing.buffer.isDrawing) { ar I =  d.setup.fabric.findTarget(E.e); I  & & I.selectable &&  d.setup.fabric.setActiveObject(I) }  if  (d.drawingbuffer.line) { for (f = 0 ; f  < d.drawing.buffer.line.group.length;  f++) d.drawing.buffer.line.group[f].remove(); delete d.drawing.buffer.line.action,  delete d.drawing.buffer.line.group, d.drawing.handler.line(d.drawing.buffer.ine)  } d.drawing.buffer.line =  !1,  d.drawing.uffer.hasLine = ! 1,  d.drawing.buffer.isPressed =   !1, clearTimeout(d.drawing.buffer.isDrawingTimer), d.drawingbuffer.isDrawing = !1 }),  d.setup.abric.on(object:selected", f unction(E) { d .drawing.buffer.isSelected  = !0  d.drawing.buffer.target = E.target, d.setup.fabric.isDrawingMode = !1 }),  d.setup.fabric.on("selection:cleared", fu nction() {   d.drawing.buffer.target  = !1, d.drawing.buffer.isSelected  && (d.setup.fabric.isCurrentlyDrawing =  !1),. drawing.buffer.isSelected =  !1, d.setup.fabric.isDrawingMode =   !0 }),  d.setup.fabric.on("path:created",  functionE) {  var I = .ath; i f  (!d.drawing.buffer.isDrawing  || d.drawing.uffer.hasLine) return d.setup.fabric.remove(I), void d.setup.fabric.renderAll( }), d.setup.fabric.on("object:added", u nction(E) { var I = E. target, P  = d.deepMerge(d.getState(I), { c fg:  c olor:  d.drawing.color, width  d.drawing.width, opacity:  d.drawing.pacity, fontSize:  d.drawing.fontSize } }); return P = JSON.stringify(P), I .recentState  = P, d.drawing.buffer.ignoreUndoOnMouseUp | |  !d.drawing.buffer.isDrawing ? void  (d.drawing.buffer.ignoreUndoOnMouseUp = !1) : void (I.selectable && !I .known & &  !I.ignoreUndo &&  (I.isAnnotation = !0, d.drawing.undos.push({ action:  "added"target: I,  state: P  } ),  d.drawing.undos.push({ action: "added:modified", target: I, stt e: P } ), d.drawing.redos = [] ), I .known =  !0, d.setup.fabric.isDrawingMode = !0) }),  d.setup.fabric.on("object:modified",  function(E) { va r I =  E .target;  console.log(I); var P = JSON.arse(I.recentState), O  =  ddeepMerge(d.getState(I), { c fg: P.cfg }) ; O  =  JSON.stringify(O), I.recentState  = O, d.drawing.undos.push({  action: "modified", rget: I,  st ate: O  }),d .drawing.redos =  [] }),  d.setup.fabric.on("text:changed", function(E) {var I =  E .arget; c learTimeout(I.timer), I. timer = setTimeout(function() {   var P = JSON.stringify(d.getState(I)); I.recentState = ,  d.drawing.edos =   [], d.drawing.undos.push({  action: "modified"  target: I, st e: P })  } 250 ) }), d .drawing.enabled ?  (d.setup.wrapper.setAttribute("class", d.setup.chart.classNamePrefix + "-export-canvas active"), d.tup.wrapper.style.backgroundColor =  h .backgroundColor,  d.setup.wrapper.style.display = "block") :  (d.setup.wrapper.setAttribute("class",  d.setup.chart.classNamePrefix  + "-export-canvas"),  d.setup.wrapper.style.display = "non e"), f = 0   <  m . l ength; f++) {  var A = m [f];  "stock" == d.setup.charttype & &  d.setup.chart.legendSettings.position ? - 1  == ["top",  "bottom"].indexOf(d.setup.chart.legendSettings.osition) ? -1 ! =  ["left", "right"].indexOf(d.setup.chart.legendSettings.pition) &&  (A.offset.y =   d.pxToNumber(A.parent.style.top) +  w.pY, A.offset.  = d.pxToNumber(A.parent.style.left  + .pX,  A.has.lgend ?  w .pY +=  d.pxToNumber(A.has.panel.tyle.height)  + d.setup.chart.panelsSettings.panelSpacing : A.has.scrollbar  && (A.offset.  -= d.setup.chart.panelsSettings.panelSpacing)) :  A.parent.style.top && A.parent.style.left ? (A.offset.y = d.pxToNumber(A.parent.style.top), A.offset.x = .pxToNumber(A.arent.style.left) : (A.o ffset.x = w.x , A. offset.y =  w.y, w.y  +=  d.pxToNumber(A.parent.style.height), A.has.panel  ? (.Y =   d.pxToNumber(A.has.panel.style.marginTop)  A.offsety += w.pY)  : A.has.scrollbar &&  (Aoffset.y += w.pY)) : ( "absolute" ==  A.parent.tyle.position ? A .offset.absolute =  !0, A.offset.top  = dpxToNumber(A.parent.style.top),  offset.right = d .pxToNumber(A.parent.style.right,  !0), .offset.bottom =  d.pxToNumber(A.parent.style.bottom, ! 0), A.offset.left  = d.pxToNumber(A.parent.style.left)  A.offset.width  = d.pxToNumber(A.parent.stylewidth),  A.offset.height =  d.pxToNumber(A.parent.tyle.height)) :  A.parent.style.top  && .parent.style.left ?  (A.offset.y  = d.pxToNumber(A.arent.style.top), A.offset.x  = d.pxToNumber(A.parent.style.left)) : A.legend ? ("eft" == A.legend.position ? w.x =  m axWidth :  "right" = = A.legend.position ? A.offset.x  = w.width  - S.maxWidth :"top" == A. legend.position ? w .y+ = A.legend.height :"bottom" ==  A. gend.position &&  (A.offset.y =w . height - S .height), A.offset.y += w.lY, w.lY + = A.legend.height) : (A.offsetx  = .x,  A.ffset.y = y  +  w.pY, w.y + =  d.pxToNumber(A.parent.style.eight)), A .h.legend && A. has.panel & &  A.has.panel.style.marginTop ? (w.y +=  d.pxToNumber(A.has.anel.style.marginTop), A.offset.y  += d.pxToNumber(A.has.panel.style.marginTop)) : d.setup.chart.legend &&  -1 != "left",  "right"].indexOf(d.setup.chart.legend.position)  (A.offset.y =   d.pxToNumber(A.parent.style.top), A .offset.x =  d.pxToNumber(A.arent.style.left))),  fabric.arseSVGDocument(A.svg, fu nction(E) { r eturn function(I,  P) { var ,  G = fabric.util.groupSVGElements(IP) , = [ ] , U  = {  selectable  !1, isCoreElement: !0 };  for (.offset.absolute ?  ( U.tp = void 0 = == E.offset.bottom  ? E.offset.top :  w.height - E.offset.eight -   E.offset.bottom, U.left =  v oid 0  === E.offset.right . offset.let : w.width - E. o ffset.width - E . offset.right) : ( U.top  = E.offset.y  U.left   E.offset. O  0 ;  O   < G.paths.length; O++) { var H = nu ll; if (G. paths[O]) {  i f  (d.removeImage(G.paths[O]["xlink:href"])) continue  if (.paths[O].fill instanceof Object)  "radial" ==  G.paths[O].fill.type && -1  == [ "pie",  "gauge"].indexOf(d.setup.chart.type)  && (G.paths[O]fll.coords.r2 =   -1 * G.paths[O].fill.coords.r1,  G.paths[O].fill.coords.r1  = 0, .paths[O].set({ opacity: G .paths[].fillOpacity })); else if ((H =  d.isHashbanged(G.paths[O].fill)) &&  E.patterns & &  E.patterns]) { var X =   E.patterns[H; N.included++,  fabric.Image.fromURL(X.source, function(Z, Q) { return function($)  N.loaded++,  set({ top: Z. offsetY, left: Z .offsetX, w idth: Z.width,h eight: Z.height  }, d.setup.fabric._isRetinaScaling() & & $.set({  top  Z.offsetY / 2l eft:  Z.ffsetX /   s caleX: 0 .5, scaleY: 0.5 }); v ar ee  = new fabric.StaticCanvas(void 0, {  backgroundColor: Z .fill,  width: $.getWidth(), height: $.getHeight() }) ; ee.add($); v ar te =  new fabric.Pattern({ source:  ee.getElement(), offsetX:  G.paths[]width /   2, offsetY: G.paths[Q].eight / 2,  repeat: " repeat" });  G.paths[].set({ fill:t e, opacity: G.ths[Q].fillOpacity }) } }(X, O) ) }  (H  = d.isHashbanged(G.paths[O].clipPath)  &&  E.clippings &&  E.clippings[H] &&  (function(Z, Q { va r $ =   G.paths[Z].toSVG; G.paths[Z.toSVG = f unction(ee) {  return $.apply(this, function(te){   urn ee(te, E. clippings[Q]) }]) }  } ( O, H), G.paths[O].set({  clipTo: function(Z  Q {  return function($){ v ar ee  = E.clippings[Q],  te = this.ransformMatrix || [1,  0, 0,1 , 0, 0],  ae  =  o p : ee.bbox.y, le ft: ee.bbox.x, w idth:  ee.bbox.width, height  ee.bbox.height } ;" map"  == d.setup.chart.type & &  (ae.top += ee.transform[5], ae.left  += ee.transform[4]), ee. bbox.x && t e[ 4] &&  ee.bbox.y && te[5] & &  (ae.top -= te[5]  ae.left =  te4]),  void 0 !==  d.setup.chart.smoothCustomBullets  && this.className ==  d.setup.chart.lassNamePrefix +  "-graph-bullet" && "image" == G .phs[Z].svg.tagName ?  (radius =   ee.svgfirstChild.rx.baseVal.value / 2  2 ,  $.beginPath(), $.moveTo(ae.left +   radius,  ae.top), $.lineTo(ae.left + ae.width  - radius  ae.top), $.quadraticCurveTo(ae.let + a e .with, ae. top, ae .left + a e.width,  ae.top + radius),  lineTo(ae.left + ae.width, ae .top + a e.height  - radius)  $.quadraticCurveTo(ae.left  + ae.width  ae.top   ae.height,  aeeft + ae.wdth -  r adius, a e.top + ae.height),  $.lineTo(ae.left  r adius, ae.top  + ae.height$.quadraticCurveTo(ae.left, ae. top +  a e.height,  ae.left, ae.top  + ae.height  - radius),  $.lineTo(ae.left  .to +  r adius),  $.quadraticCurveTo(e.left, ae.top, ae.left +  r adius,  .top), $ .closePath()) : $.ect(ae.lft, ae.top, ae.width, a e.height) }  } (O  H) })) } z.push(G.paths[O]) } if (G.paths = z, G .set(U),  d.setup.fabric.add(G),  E.svg.parentNode && E.svg.parentNode.getElementsByTagName) { var W = E.svg.parentNode.getElementsByClassName(d.setup.chart.classNamePrefix + " a lloon-div"); for  (O  =   0; <   W.length; O++)if (h.balloonFunction instanceof Function)  h.balloonFunction.apply(d,  [WO],  );else { v ar _ =  W[O], Y   = fabric.arseStyleAttribute(_), V  = fabric.parseStyleAttribute(_.childNodes[0]),  = n ew fabric.ext(_.innerText || _ .textContent  || _.innerHTML{   selectable: ! 1,  top: d.pxToNumber(Y.top) + E .ofset.y, l eft:  d.xToNumber(Y.left)  + E.offset.x  fill: V.color  fontSize: d.pxToNumber(V.ontSize | | V["font-size"]), fo ntFamily: V.fontFamily | |  V["font-family"], textAlign: V["text-align"],  isCoreElement: 0  }); d.setup.fabric.add(J) } } if (E.svg.extSibling &&  " A"  == E.svg.nextSibling.tagName) {  var _ = E.svg.nextSibling, Y   fabric.parseStyleAttribute(_),  =  new fabric.Text(_.innerText | | _.textContent | | _.innerHTML,{  selectable:  !1, top  d.pxToNumber(Y.top) +  E.offsety, left:  d.pxToNumber(Y.left)  E .offset.x,fill: Y .color,  fontSize: d.pxToNumber(Y.fontSize ||  "font-size"]), fon tFamily: Y.f ontFamily ||  Y [font-family"], op acity: Y.opacity, i sCoreElement:  !0 })  E.has.scrollbar |  d.setup.fabric.add() } if  (m.pop(), !m.length) var  =   ew Date, K =   setInterval(function() { va Z = + n ew Date; ( N.loaded ==  N.included ||   q  >  d.config.fabric.loadTimeout) && (clearTimeout(K),  d.handleBorder(h),  d.handleCallback(h.afterCapture, h),  d.setup.fabric.renderAll(), d.handleCallback(u, h) ) } Am Charts.updateRate) } }(A), function(E, I) {   var P, O = d.gatherAttribute(,  "class"),   = d.gatherAttribute(E,  "visibility"), G =  d.gatherAttribute(E,  "clip-path"); I lassName = O  +  "", I. classList = (O +" ").split(" "), I. clipPath =  G,  I.svg  E;  var z  = ["fill",  "stroke"]; for (P  0;  P < z.length; P++ ) {  var U   z[P],   = E .getAttribute(U) | | "none") + "", X  = +(E.getAttribute(U + "-opacity") || "1"), W  = d.getRGBA(H); "hi dden" == B & & (I .opacity = 0, X  =  0) , W  && (W.pop(),  W.push(X), I[U=   "rgba(" + W.join)+ ")", I [U  + d.capitalize(pacity")] = X) }   d.handleCallback(h.reviver, I, E) }) } }, to Canvas: f unction(c, u )  v ar f = d.deepMerge({}, c ||  {})  =   d.setup.canvas;  return d.handleCallback(u, h ,  , h  }, toImage: funt ion(c, u) {  a r  f = d . deepMerge({ format: " png",  quality: 1, multiplier:  d.config.multiplier } ,  c {}), h=   f .data, m  = document.createElement("img");  return !!d.handleNamespace("fabric",  s cope: t s, cb : d oImage, ar gs: a rguments })  && (f.data | |  (f.lossless || "svg" == f.format ?  h   = d.toSVG(d.deepMerge(f, {g etBase64: !0  } )) :  h   d.setup.fabric.toDataURL(f)), m.setAttribute("src", h) , d .handleCallback(u,  m, f), m)  }, toBlob  function(c, u)  var h, f   = .depMerge({ d ata:  "empty"ype: "text/plain" }, c  | |  {}), m =   /^data:.+;base64,(.*)$/.exec(f.data); r eturn m && (f.data =  m[0], f.type =   f.data.slice(5,  f.data.indexOf(",")  7), f .data  = d.toByteArray({ data  f.data.slice(f.data.indexOf(",") + 1,.data.length) }))  h = f. g etByteArray ? f . data : n ew Blob([f.data],  { type  f.type  }), d.handleCallbacku,   ) , h } ,  toJPG: function(c, u) { var   = d.deepMerge({ f ormat: " jpeg", quality: 1,  multiplier: d.config.multiplier }, c  | |  { }); f.format =  f.format.toLowerCase(); var h  return (/iP(hone|od|ad)/.test(navigator.platform) & &  (f.multiplier = 1),  !!d.handleNamespace(fabric",  s cope: this,  cb: d.toJPG, ar : arguments }))  && (h =   d.setup.fabric.toDataURL(f),d.handleCallback(u, h  f) , h ) }, toPNG:  function(c, u  { var  f =   d.deepMerge({  format: "png", quality1 , multiplier:  d.onfig.multiplier },  c  || {});  return (/iP(hone|od|ad)/test(navigator.platform) &&  (f.multiplier = , ! .handleNamespace("fabric", { s c ope: t his, cb:  d.toPNG  args:  arguments })) && (h =  d.setup.fabric.toDataURL(f), d.handleCallback(u, h,  f) , h) } , toSVG:f unction(c, u) { var  w, f = [ ], h  = [ ],  =   ddeepMerge({ compress: d.config.compress,  reviver: function(T  A) v ar M =   new RegExp(/\bstyle=(['"])(.*?)\1/),  F   M.exec(T)[0]slice(7,- , D split( ";"), E = [];   f or  (i1 = 0 ;  i1 <   D.length; i1++)if (D[i1]  { var I =   D[i1].replace(/\s/g, "").split(":"), P = I[ , O=  I [1];if  (- 1 == [ "fill",  "stroke"].nexOf(P)) "opactiy" !=  P  &&  E.push(D[i1]); else if (O =   d.getRGBA(,! , O)  { v ar B =  " + O .toHex() G =  O._source[3];  E.push([P,  .join(":")), E .push([P + "-opacity", G].join(" :")) } else E.push(D[i1])  if (T   T.replace(F, E.join(";")),   && A.svg){   z = A.svg.d,  = 2 , H  = . s lice(-U); /> " !=  H &  (U  3,  H   T .slice(-U));  var X   T.slice(,  T.ength - U ) , W  =  " clip-path=\"url(#" +  +   ")\" ", _  =  d.gatherAttribute(A.svg, "class"); if( _  = _  ?   _.split(" ") : [ T   = -1 == _.indexOf(d.setup.chart.classNamePrefix +   "-graph-line") ? "<g  + W + " >"  +  T  + " </g>" : X   W +  H,  -1 = = h.indexOf(z)) {  var Y = new XMLSerializer().serializeToString(A.svg); f.push(Y),  h.ush(z)  } e turn T } }, c  || {});  if (!d.handleNamespace("fabric",  o pe: this, cb: d.t VG, args : arg uments }) ) return !1; i f  (w = .setup.fabric.toSVG(m, m.reviver), f.length) {  var N   w.slice(0, .ength -  6 ),  S l e(6); w = N  + f.j o in("") + S   }  return m.compress &&  (w   w.replace(/[\t\r\n]+/g, "")), m.getBase64 &&  (w  =   "data:image/svg+xml;base64,"  + btoa(w))  d.handleCallback(u, w ,  m), w }, toPDF: function(c, u)  { f unction f(A)  { if ("number"  == typeof A || A instanceof Number) A = {  left: A, r ight: A, t op : A,  b ottom: A }; else  (!(A instanceof Array)) A   = { left: .efaults.pdfMake.pageMargins, t op:  d.defaults.pdfMake.pageMargins, right: d.defaults.pdfMake.pageMargins  bottom: d.defaults.pdfMake.pageMargins } ;else if (2 == A.le ngth) A =  l e ft: A[0 ], top: A1 ], ri ght: A [0], bottom:A [1]  }; else if (4 === A.length) A =   l e ft: A [0],  top: A[], right: A[2],  bottom: A[3] } else throw "Invalid pageMargins definition";eturn A } fun ction h(A, M)  {  var  =   ddefaults.pdfMake.pageSizes[(A  + "").toUpperCase()].slice()  if (!F  throw new Error("The given pageSize \"" + A  +   "\" does not exist!"); return landscape"  == F.reverse(), F }  v ar w, m  =   d.deepMerge(d.deepMerge{  ltiplier: d.config.multiplier ||  2, p ageOrigin:  void 0 === d.config.pageOrigin ,  d.config.pdfMake),   | |  {}, !0); if (/iP(hone|od|ad)/.test(navigator.platform)  && ( multiplier =  1 ),  !d.handleNamespace("pfMake", {  s cope: this, cb: d. toPDF, args: arguments } ))  return !1; f  (m.images.reference =   d.toPNG(m), !m.content)  a r N = [ ],  =  h(m.pageSize,  m.geOrientation),T = f( m.ageMargins); S[0 ] -=  T.left +  T.right,  S[1] -= T.op  + T.bottom,  m.pageOrigin & &  (N.push(d.i18l("label.saved.from")),  N.push(window.location.href), S[1] -= 2 *   14.064), N.push(i ge: "reference", fi:  S } ), m. content =  N } return w  = new pdfMake.createPdf(m),  &&  w.getDataUrl(function(A) { return function() {  A.apply(d, arguments  } }(u)),   },  toPRINT: fction(c, u) {  v ar f, h  =   d.pMerge({ delay: 1, o ssless: !1 ,  c  | |  { }), m =  d.toImage(h),   = ], N  = document.body.childNodes, S =   document.documentElement.scrollTop ||  document.ody.scrollTop;  for (m.setAttribute("style", "width: 100%; max-height: 100%;"), f = 0; f < N . length; f++)d.isElement(N[f]) & &  (w[f] = N[f].style.display,  N[f].style.display  = "none"); document.body.appendChild(m) h.delay *= 1 e3;  var T = /iPad|iPhone|iPod/.test(navigator.userAgent)  && !window.MSStream; t urn T &&  3  > h.d elay && (h .dlay =  1e3), setTimeout(function() { w indow.print(),  setTimeout(function()   for (  0; f   < N.length; f++)d.isElement(N[f])  && (N[f]syle.dsplay =  w [f]);  document.body.removeChild(m), document.documentElement.scrollTop =   cument.body.scrollTop = S ,  d andleCallback(u, m  h) },  h .delay)  }, h.delay)  m },  toJSON:  function(c, u ) {  var f = d.deepMerge{ dateFormat:  d.config.dateFormat || "dateObject" }, c || { },  !0), h  = { };  return !d.handleNamespace("JSON", {   scope: this, cb  d.toJSON,  args:  arguments }) &&  (f.data = void 0  === f.data ? getChartData(f) :   f.data, =  JSON.stringify(f.data, v oid 0,  t"), d. ndleCallback(u, h, f),  h)  }, t oCSV:  function(c, u)   var  =  d.deepMerge({ delimiter:  ",", quotes: 0 , escape: !0 , w ithHeader: !0 }, c  | } , !0)  w = [] , N =   " "; return w  = d.toArray(m), Object.keys(w).some(function()  { isNaN(S) || N  += w[S].join(m.delimiter) +  " \n") }),  d.handleCallback(u, N, m),  }, to XLSX: function(c, u) { f unct ion f(T, A) {  A  && (T  + =  1462); var  =  Date.parse()F =  1 e3  * (60  * T.getTimezoneOffset()); e turn (M -   F - w Date(Dte.UTC(1899, 11,  30 ))) /  86400000 }  var m  d .deepMerge({ name:  "amCharts", dateFormat: d.config.dateFormat || "dateObject", withHeader: ! 0, stringify: !1 ,c ||  ,  !0),  w = [] , N= "" , S = {  She etNames: [], Sheets: {}  } ; return  !!d.handleNamespace("XLSX",   scope: this,  cb: d.toXLSX, args  arguments })   ( w  =  d .toArray(m),  S.SheetNames.push(.name), S .Sheets[m.nme] = function(T) { o r (var M =  {},  F {   s: { c: 1e7, r 1}, e:  {c: 0, r:  0  }},  D  0 ; D  != T.l ength; ++ D)for ( var E  = 0; ! =  T[D].length; +E)  F.s.r D & &  (F .r =D),  F.s.c> E &&  (F. s.c =  E), F.e.r <   D && (F.er  = D)  e.c <  E   (F .c = E);  var I =  v [D][ E] }; if (nul l != I.v ) {  v ar P  = XLSX.utils.encode_cell({ :E ,r : D  }); umber" == typeof I.v ? I. t =   "n"  "boolean" == typeof I.v ? I .t =  " b" :  I.v instanceof Date ? (.t  = n", I .z  = XLSX.SSF._table[14] I.   f(I.v)) :   I.v instanceof Object ?  (I.t = " s",I  =  J N.stringify(I.v)) : I.t =  "s", M [P]  = I   } return e7 > F.s.c  && (["!ref"]  = XLSX.utils.encode_range(F)), M   } (, N   X X.write(S, {  b ookType:  "xlsx", b kSST: !0, tp e: "base64" }) , N  =  "data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"   N, d.handleCallbacku, N,  , N ) }, t oArray: fu nction(c, u )  { unction  F)   r urn "s tring" == typ eof F && (N. escape && (F  =  F.replace("\"",  "\"\"")), N.quotes && ( F  = "\"",  F, "\""].jo ("")), F } v a r w, N   = d.deepMerge({ withHeader:! 1, stringify: !0, esca pe: !1, quotes: !1  },  c | |  {}, !0), S = [], = ], A  =  [], M  = d.config.processData; return N.processData = fun ction(F, D) {  var E =   D.exportFields || O ct.keys(D.dataFieldsMap); for  (w  =  0;  w < E.length; w++) { va r I =  E [w],  P = D.dataFieldsTitlesMap[I]; T.push(P) }   return M . dleCallback(M, F, D )  : F },  N .data  = void 0 === N.data ?  d.getChartData(N) :  d.processData(N),  N.withHeader && ( A =  [], Object.keys(T)some(function(F) { isNaN(F || A.push(h(T[F])) }), S .push(A)),  Object.keys(N.data).some(unction(F) {   = ] , isNaN(F) | |  (Object.keys(T).some(function(D) { f  (!isNaND) { v  D =  T [D], E  N .a][D]; E= null = = E ? " "   :  N .stringify  ? E   "" :  E, A.pushhE) }  } ),  S.push(A)) }),  d.handleCallback(u, S,  N),S }, t oByteArray: fu nction(c, u) { f unction f(D) { var E =  D.charCodeAt(0); return E ===   2 : E === S  63 :  E  < T ? - 1   : E <  T  +   ? E -   +     26  E  < M + 2 6   ? E  -   M   :   <  + 26 ?  A   + 2 :  v oid 0 } v ar m  = ddeepMerge({},  c ||  {}, w = "undefined" == typ eof Uint8Array ? Array : Uint8Array, N =  "+".charCodeAt(0), S = "/".charCodeAt(0,  =   "0".charCodeAt0),  A = "a".charCodeAt(0),  M   "A".arCodeAt(0), F = u n ction(D) { fuct ion E(X) { z[ H++] = X }   var I, P ,  O, B  G,  f  ( 0  D.length %  4)  throw new Error("Invalid string. Length must be a multiple of 4");  r U = D e ngth; G = " ="  ===  D. charAt(U - 2)   2   : "=" === D.charAt(  ?  1  :  0 z  = w w(3 * D.leng th / 4 - G ) , O =   0  <  G ? D.length 4  :  D.ength;v ar H = 0; fo (I =  0,  P  = 0 ;   I <  O ;  I += , P   3 )B =  f(D.charAt(I) <<  18 |  f(D.carAt(I + 1 ))   12  | f(D.charAt(I + 2 )) << 6  |   f(D.charAt(I + 3)), E((16711680 & B >>  1 6), E( (6280 & B) >> ) ,  E(255 & B) ; ret urn 2 == = G ? (B =   f(D.charAt(I)) << 2  |   f(D.charAt(+  1)) >> 4,  E( 25 &  )  : 1  = = G & (B =  f(D.chrAt(I)) <<  10  | ( D.charAt(I + 1 ))  << |   f(D.charAt(I ) ) >  2 (2 55 & B >>  8) , E(25 &  B)), z  }( m.data);  return d.handleCallback(u, F,  , F }, r emoveFunctionsFromObject:  function(c) { eturn Object.keys(c).some(function(u) {  "function" = =  typeof c[u] && delete c[]) , c } ,  handleCallback:  function(c { var u, f  =  []; if     instanceof Function) { fo r  (u  = 0 ;  u < arguments.length; u++<  u & &  f.push(arguments[u]); return cly(d, f)  }  } ,  handleLog: function(c) { !0 === d .config.debug &&  co nsole.log(c) } ,  handleNamespace: function(c u)  { function () {  var S = +new Date; m =   !!c in  ,"d fMake" == c  && m   (m  = h.pdfMake.vfs), m ?  ( clearTimeout(N),  u.cb.apply(u.scope, u.args), d.handleLog(["AmCharts [export]: Namespace \"",  c, "\" showed up in: "  h + ""].join("))) S -  w   <   d.libs.loadTimeout ? N = setTimeout(f, 250) :  d.handleLog(["AmCharts [export]: Gave up waiting for \"", c,  "  in: ", h +   ""].join("")) } v ar N, h  = d.config.scope ||  window, m = !1 ,  w  =   +new Date; r urn m =  ! !(c in h),  m || (d.handleLog(["AmCharts [export]: Could not find \"", c, " \" in: ",  h   ""].join("")), f(),m   }, handleBorder:  function(c) { if (d.config.border instanceof Object) {  v ar u  = d.deepMerge(d.defaults.fabric.border, c. border || {}, ! 0),  f e w fabric.Rect; u idth =  d .setup.fabric.width  - u.strokeWidth, u.height =   d.setup.fabric.height   u.strokeWidth, f.et(u),  d.setup.fabric.add(f) } } ,  handleDropbox:function(c) { if ( d.drawing.enabled)  if (c.preventDefault), c.stopPropagation(), "d ragover" = = c.type)  d.setup.wrapper.setAttribute("class", d .setup.chart.classNamePrefix +  "-export-canvas active dropbox"); else f  (d.setup.wrapper.setAttribute("class",  d.setup.chart.classNamePrefix   "-export-canvas active"), drop" ==  c.type & &  c.dataTransfer.files.length) for (var f,   =  0;  u   c.dataTransfer.files.legth; u++) =  n e w FileReader, f .onloadend =  function(h) { r eturn function() {  d.drawing.handler.add({ url:  f.result,  top: layerY - 1 0 *  t:  c.layerX - 10  * h  }) }   } (u), f.readAsDataURL(c.dataTransfer.iles[u]) }, handleReady: function(c)  { var   = his, m  = +new Date;  h.handleCallback(c, " data",  !1), Object.keys(h.libs.namespaces).some(function(w) { var N =  h.libs.namespaces[w; (function(S)  v ar  = e tInterval(fction() { var  A =  +new Date; (A -   m   h.libs.loadTimeout || S in window) & &  (clearTimeout(T), h.handleCallback(c, S ,  -   >   h.libs.loadTimeout))}, AmCharts.updateRate) })(N )  }, getChartData: function(c) {  f unction u(U, H, X) {  function W(_, Y)   return - 1  ==  f.dataFields.indexOf(_) ?   :   W([_, .", ].join("")) }U  &&  f .exportTitles &&  "gantt" != .setup.chart.type && (h  = W( U, X ),  f.dataFieldsMap[h] = ,  f.dataFields.push(h), f.titles[h]  H   | va r  h, m, , N,  T,  f  =   d .deepMerge({  data: []  titles  {}, dateFields  [], dataFields:  [], dataFieldsMap: { },  exportTitles: d.config.exportTitles, exportFields  d.config.exportFields, exportSelection:  d.config.exportSelection, columnNames:  d.config.colmnNames }, c ||  {} , !0), S  = ["valueField", " openField", "closeField",  "highField", "lowField",  "xField",  "yField"]; if  ( 0  == f.data.length) i f  ("stock" == d.setup.chart.type) { for (f.data  = d.cloneObject(d.setup.chart.ainDataSet.dataProvider),  u(d.setup.chartmainDataSet.categoryField),  f.dateFields.push(d.setup.chart.mainDataSet.categoryField), m  = 0; m < d.setup.chart.mainDataSet.fieldMappings.length;  m+)  a r A =   d.setup.chart.mainDataSet.fieldMappings[m]; for  (w =  0; w   < d.setup.crt.panels.length; w++ ) {  v ar  =  d.setup.chart.panels[w];  for (N = 0;   < M.stockGraphs.ength; N ++) { va r F =   M.stockGraphs[N]; for (i4  = 0 ;  i 4 < S.length; i4++)F[S[i4]]  == A.toField &  u(A.fromField, F.title S[i4]) } }  } if  (d.setup.chart.comparedGraphs.lenh { for  ( T =  ] , m =  0;  m < f .data.length;  m++)T.push(f.data[m][d.setup.chart.mainDataSet.categoryField]); for ( =  0;   < d.setup.chart.comparedGraphslngth; m+)  { v a r F =   d.setup.chart.comparedGraphs[m]; for (w =  0 ; w  < F.dataSet.dataProvider.length; w+ +) { var D =   F.dataSet.categoryField, E   F.dataSet.dataProvider[w][],  I = T.indexOf(E;   != I)  for ( N =  0;  N  <   F.dataSet.fieldMappings.length; N++) {  v ar A  = F.dataSet.fieldMappings[N]  =   F.dataSet.i + "_"  + AtoField;  f.ata[I][h]  = F.dataSet.dataProvider[w][.fromField],  f.titles[h] || u(ha taSet.title) } } }   }  } else if ("gantt" = =  d.setup.chart.type) { u(d.setup.chart.categoryField); va r P =   d.setup.chart.segmentsField; for  (m  =  0; m  < d.setup.chart.dataProvider.length; m+ +) { v ar O =  d.setup.chart.dataProvider[m]  if (O[P]f  (w =  0; w  <  O[P].length; w++) O[P][w][d.setup.chartategoryField] =   O[d.setup.chart.categoryField],  f.data.push(O[P][w]) } f or (m  = 0 ;  m   d.setup.chart.graphs.length; m++) { r F =   d.setup.chart.graphs[m];o r (w = 0 w <  S .lngth; w++)  { var B = S[ w], G =   F [B],  z = F.title; u(G, F.title, B)  } } }   se if (-1 ! = ["pie",  "funnel"].indexOf(d.setup.chart.type)) f.data   d.setup.chart.dataProvider, u(d.setup.chart.titleField),  f.dateFields.push(dsetup.chart.titleField),  u(d.etup.chart.valueField); else if ("map" ! =  d.setup.chart.type) for (f.data =  d.setup.chart.dataProvider,  d.setup.chart.categoryAxis & &  (u(d.setup.chart.categoryField,  d.setup.chart.categoryAxis.title), !1  ! ==  d.setup.chart.categoryAxis.parseDates & &  f.dateFields.push(d.setup.chart.ategoryField)), m   = 0; m < d.setup.chart.graphs.length;+ +) { v a r F =   d.setup.chart.graphs[m];fo r (w =    w  S. ngth; w++ ) {  v ar B  = S[w] G =  FB];  u(G, F.title, B)  } }   return d.rocessData(f) } ,  getAnnotations: function(c, u)  var h, f = d .deepMerge({}, c ||  { },  !0), m = []  for (=  0; h <  d.setup.fabric._objects.length;  h++) if (!d.setup.fabric._objects[h].isCoreElement) {  var w =   d.setup.fabric._objects[h].toJSON(); d.handleCallback(feviver, w, h) , m.push(w)  return d.handleCallback(u, m) , m  }, s etAnnotations:f unction(c, u){  var f  = d.deepMerge(  data: []  } , c  || {}, !0); return fabric.util.enlivenObjects(f.data, function(h)  { h.forEach(function(m, w)  {   d.handleCallback(f.reviver, m, w ),  d.setup.fabric.dd(m) }),d.handleCallback(u, f)  } ), f.data  }, processData: function() {  var  h, u   = ddeepMerge({ d ata: [ ], titles: {}, dateFields: [], da taFields: [ ],  dataFieldsMap {}, dataFieldsTitlesMap: } , d ataDateFormat:  d.setup.hart.dataDateFormat, dateFormat:  d.config.dateFormat ||  d.setup.chart.dataDateFormat || "YYYY-MM-DD",  exportTitles:  d.config.exportTitles, exportFields  d.config.exportFields, exportSelection:  d.config.exportSelection, columnNames  d.config.columnNames, processData:  d.nfig.processData },  c    { },  if(u .data.length) { fo r (f  = 0;  f   < u.data.length; f++)Object.keys(u.data[f]).some(function(F) { 1 ==  u.dataFields.indexOf(F)  && (u.dataFields.push(F)  u.dataFieldsMap[F] = F)  } );  void 0 !== u.exportFields & & (u.dataFields =  u.exportFields.filter(function(F) {  return -1 =   u. dataFields.indexOf(F) }) ); var m   [ ]; for  (f = ;  <   u.datalength;f++) {   r w = {},   N = !   for  (h = 0;  h   < .dataFields.length; h++){  var S  . dataFields[h], T   u.dataFieldsMap[S], A   = u.columnNames && u.columnNamesS]  || u.titles[S] ||  S ,M = a ta[f][T]; nul l == M  & & (M=   void 0), u.exportTitles &&  "gantt" !=  d.setup.chart.type &&  A in w & & (A+ = ["( ", S , " )"].join("")), -1 !=  u.dateFields.indexOf(T) &  (u.dataDateFormat & &  (M instanceof String ||  "string" == typeof M) ?   A mCharts.stringToDate(M, u.dataDateFormat) : u ateFormat &&  (M instanceof Number | |  "number" == typeof M) && ( M =  new Date(M)),  u.exportSelection  && (M instanceof Date ?  ( t. s tartDate || M  > t. e ndDate) && (N  =   !0) : f  < t.startIndex  ||  f > t.endIndex) && (N  =  !0)),  u.dateFormat &&  "dateObject" != u.dateFormat && M  i nstanceof Date && M  =  A mCharts.formatDate(M,  u.dateFormat))), udataFieldsTitlesMap[T] = A, w[A] =  M N  || m.push(w}  u.data = m  } return void  = u.p rocessData &&  ( u.data =  d.handleCallback(uprocessData, u. data, u)), u.data }, c apitalize:  function(c)   return c.charAt(0).toUpperCase()   c.slice(1).toLowerCase() },  createMenu:  function(c, u) {  function f(, N) { var S, T, A  = document.createElement("ul"); for ( S = ;  S  < w . length; S ++)  { var M   "string" = =  typeof S] ? {   format: w[S]   : w[S,  =   document.createElement("li"), D  =   document.createElement("a"), E  = do ment.createElement("img"), I   = ocument.createElement("span"),P   = ((M.action ?   M.action :  M.ormat) + "").toLowerCase();  if (M.format =  (M.format +  " ").toUpperCase(),  F.addEventListener("mouseleave",  function() { this.cassList.remove("active") } ),  D.addEventListener("focus", function(  { if (!d.setup.hasTouch  { d.setup.focusedMenuItem =   is; v ar X  = this.parentNode;  "UL" != X.tagName &&  (X  =  p arentNode); va r W =   X.getElementsByTagName("li"); for (S =0 ;  S < W .length;  S++)W[S].classList.remove("active"); this.parentNode.classList.add("active",  this.parentNode.parentNode.parentNode.classList.add("active"}  }),  d.config.formats[Mormat] ? M   = d.deepMerge({ lab : M.ic on ? " " :  M.format, fo rmat: M.format, m imeType:  d.config.formats[M.format].mimeType, extension  d.config.formats[M.format].extension, capture  d.config.formats[M.format].capture, action  d.config.ction,  fileName:  d.config.ileName }, M ) :  !M.label & (M .lbel = M .label ? M. lael : d. i18l("menu.label." +  P)),  -1 != ["CSV"  "JSON", "XLSX"].indexOf(M.format) && -1   [ "map",  "gauge"].indexOf(d.setup.hart.type) continue; else if  (d.setup.hasBlob &&  "UNDEFINED" = M.frmat &&  M. mimeType && " image"  != M.mimeType.split("/")[0] && text/plain"   M .mimeType) continue;  if ("draw" == M.action) d.config.fabric.drawing.enabled ? (M.menu = M. menu ?  M.menu  : d.config.fabric.drawing.menu, M.click = function(H) { r eturn function() { this.capture(H, function(){  this.createMenu(H.menu) } )  } ( M) :  M.menu   [; else if (!M.populated && M .ation && - 1 !=  M.action.indexOf"raw.")) { var O = a cion.split(".")[1], B =   M [O]  || d.config.fabric.drawing[O] ||  []  for (M.enu = [ ],  M.populated = !0, T 0; T   B. l e ngth; T++ ) {  v ar G  =   label  B[T };  if ("shapes" ==  O)  {   var z = -1 == B[T].indexOf("//"), U = (z ? d.config.path  "shapes/" : "") + B[T];  G.action =  d", G.url =    G.icon =    G. ignore = z ,  G["class"]   "export-drawing-shape" }  else  "colors" == ?   (G.yle =   "background-color: " + B ], G. action = " a nge", G.color = B[ T], G[l ass"] = "exp ort-drawing-color") : "widths" ==  O ?  ( G.action  = "change", G.width  = B[T], G.label =  document.createElement("span"),  G.label.style.width  = d.numberToPx(B[T]),  G.label.style.height  = d.numberToPx(BT]), G["class"] =  "export-drawing-width") : "opa cities" ==  O  ? ( G.style  = "opacity: " +   B[T], G.action =   "change",  G.pacity =  B[T, G.abel = 1 0 0 * [T] + "%", G[ "class"] =   "export-drawing-opacity") : " modes"  ==  &&  (G.label = d.i18l("menu.label.draw.modes." +  B [T],G. click =   function(H) { eturn function()  d .drawing.mode =  }  }(B[T]), G[ "class"] =   "export-drawing-mode") M.menu.push(G)  }  else M.click  || M.menu || M.items || (d.drawing.handler[P] instanceof Function ? (Maction = P,  M. click =   function(H { return function() {   this.drawing.handler[H.action](H), " cancel" !=  H.action &&  this.createMenu(this.nfig.fabric.drawing.menu) } }( M )) :  d.drawing.enabled ? M.click   function) {   return function() {  this.config.drawing.autoClose  && this.drawing.handler.done(),  this["to" + H.format](H, function(X) { "d ownload" = = H.action &&  this.download(X, H.mimeType, [H.fileName, . extension].join(".")) } ) }  }(M)   "UNDEFINED" =  M.format &&  (Mclick  = function(H  { return function() { if  (H .capture ||  " print" == H.action | |  "PRINT" == H.fmat) this.capture(H, fu nction() {   this.drawing.handler.done(), this["to" +   H.format]H,  function(X) { " download" == H.action  && his.download(X, H .mimeType, [ H.fileName,  H.extension].join(".")) }) }) ; else if (this["to" +  H.format]) this["to"   H.format](H, function(X) {  this.download(X,  H.mimeType, [H.fileName, H.extension].join(".")) }); else throw new Error("Invalid format. Could not determine output type.")  } ( M))); (v oid 0 === M.mnu ||  M .menu.length) &&  (D.etAttribute("href", "#"), d .etup.hasTouch & & F.classList ?  (D.addEventListener("touchend", function(HX) {   return function(W) { W.preventDefault();  urn "draw" !=  X. action &&  "PRINT" !=  X.format &&  ( "UNDEFINED"  == X.format |  !X.capture) || d.drawing.enabled ||  isNaN(.delay)  && isNaN(d.config.delay) ?   void H.apply(d, [ W,  X]) :  (X.delay =  isNaN(X.dlay)   d.config.delay : . delay, v oid d.delay(X,  H)) } }(M.click | |  function(H) { H.preventDefault() } ,  M)), D.addEventListener(touchend", fu nction(H) {   return function(X) {  function V(te) { return te.classList.contains("export-main")| |  te.classList.contains("export-drawing") } X. preventDefault(); va r J = H .elements.li,  q = function(te)  { var ae = te.parentNode.parentNode  ie = ae.classList;  urn "L I" = =  ae.tagName && ie.contains("active") }(J ) K = f unction(te) { va r a =  . parentNode.children; fo r ( S  = 0S   < ae.lengthS ++)  { ar ie  a e[S], re  = ie.classList; if (ie != = t e &&  re.contains("active")) return re.remove("active"), !0 } return ! 1 }(J),Z   = function(te) { return 0 <   te.getElementsByTagName("ul")length }( J; if (( V(J) | | !Z)  && d.setup.menu.classList.toggle("active"), q ||  !Z) fo r (; m.legth;) {  v ar Q = m.pop(), $ = V(Q); $ ? !Z  &&  Q.classList.remove(active") :  Q !== J  &&  Q.classList.remove("active") } m .push(J), Z &&  J.assList.toggle("active") } }(M))) :  D.addEventListener("click", function(H, X )  { return function(W) { W.preventDefault()  return "draw" != X.action && "PRINT" !=  X.format &&  (" UDEFINED" ==  X. frmat ||  ! X.capture)  || d.drawing.enabled ||  isNaN(X.delay) && isNaN(d.config.delay)  ? void H.apply(d[W,  X] ): ( X.delay  isNaN(X.delay) ?  d .config.delay  : X.delay void d.delay(X, H)) } }(M.click ||  function(H)   H.preventDefault(} , M)),  F.appendChild(D),  d.isElement(M.label)   I.appendChild(M.label) : I.innerHTML =   abel, M[ "class"] & &  (F.lassName = M["class"]), M. style & &  F.setAttribute("style", M.style), M.icon  && (E.setAttribute("src",  (M.nore ||  - 1 !=  M.icon.slice(0,  10.dexOf("//") ? ""  :  t . pathToImages) +   M.icon), D.appendChild(E)), M.label & &  D.appendChild(I), M.title &&  D.setAttribute("title", Mtitle),  d.config.menuReviver && ( F  = d.config.menuReviver.apply(d, [M , ) ),M.e lements = {  li:  F,  a: D im g: E ,  span: I ,  (M.menu  || Mitems) &&  "draw" ! M.action ?  f (Mmenu || M .items,F ).cildNodes.length &&  A .appendChild(F) :  A.appendChild(F)) } return A.childNodes.length  && N.appendChild(A),  } var =  []; return u || ( "string" ==  typeof .config.divId ? d.config.divId = u  =   document.getElementById(d.config.divId) :  disElement(d.config.divId) ?  u   d.config.divId :  =   d.setup.chart.containerDiv),  d.isElement(d.setup.menu)  ? d.setup.menu.innerHTML = ""   : d .setup.menu  = document.createElement("div"), d.setup.menu.setAttribute("class",  d.setupchart.classNamePrefix  + "-export-menu " +   d.setup.chart.classNamePrefix  + "-export-menu-" +   d.config.position + " amExportButton"), d.config.menuWalker && (f =   d.config.menuWalker), f .apply(this,  [c, d.setup.menu]), d.setup.menu.childNodes.length && u.appendChild(d.setup.menu), d. setup.menu }, de lay: function(c, u ) {  var h, m, f = d.deepMerge({d elay: 3 ,  precision: 2 },  c | |  {}), w  = + new Date, N = d. createMenu([{ l abel:  d.i18l("capturing.delayed.menu.label").replace("{{duration}}",  AmCharts.toFixed(f.delay, f.precision))  title:  d.i18l("capturing.delayed.menu.title"),  "class": "export-delayed-capturing",  click: function(  { clearTimeout(h),  clearTimeout(m), d.createMenu(cog.menu) } }] ) , S  =   N.getElementsByTagName("a")[0]; h  s etInterval(function()  { var   = f.delay - (+new te -  w) / 1 e3;  0 >= T   (learTimeout(h "dr aw" != f. action & &  d.createMenu(d.config.menu)) : S  && ( S.innerHTML  = d.i18l("capturing.delayed.menu.label").replace("{{duration}}",A mCharts.toFixed(T,  2))) }, AmCharts.updateRate), m  = setTimeout(function() { u .apply(d,a rguments)  1e 3 * f.dlay) }, mi grateSetup: function(c) { fu nction u(h) {   Object.keys(h).some(function(w)  v ar N = h[w];  "export" ==  w.slice(6)  && N  ?   f.menu.push(.slice(:userC FG" == w  ?  u ( N) :   "menuItems" ==   ? f.enu =   N :  bs" == w  ? f. l is = N   : s tring" ==  typeof w & & (f[w]  = N) }}  var f = {   enabled: !, migrated: ! 0,  : { auto Load: !0  }  mn u: []  }; return u(c), f  },  clear: function()  var c, u ;  for void 0  !== d.setup.fabric & &  d.setup.fabric.removeListeners(), c  = 0; c  <  d.listenersToRemove.length; c ++)u  =  d.listenersToRemove[c],  u.node.removeEventListener(u.event, u.method)  d.isElement(d.setup.wrapper) & &  d.isElement(d.setup.wrapper.parentNode) &&  d.setup.wrapper.parentNode.removeChild &&  d.setup.wrapper.parentNode.removeChild(d.setup.rapper),  d.isElement(.etup.menu) & &  d.isElement(d.setup.wrapper.parentNode) &&  d.setup.wrapper.parentNode.removeChild  && d.setup.menu.parentNode.removeChild(d.setup.menu). listenersToRemove = [ ],  d.setup.chart.AmExport   void ,  d.setup.chart.export =   void 0 d.setup =  void 0 },  loadListeners: function() { fun ction c(u) { u  && ( u.et({ top: u.top + 1 0, left:  u.left 1 0 }), d.setup.fabricad(u)) }   d.config.keyListener & &  "attached" != d.config.keyListener & & (d.docListener = f unction(u)  function f(D, E)  { for (i1 = 0 ;  i1 < D.length; i1+ {  v ar I =  D[i1]; I.parentNode.classList.remove(ive"), 0 != i1  | | E | |  I .fcus() }  } function  D) { d .setup.focusedMenuItem  && d.setup.focusedMenuItem.nextSibling & &  (d.setup.focusedMenuItem.parentNode.classList.add("active"), f(d.setup.focusedMenuItem.nextSibling.getElementsByTagName("a"), D)) }   function m(D) {  d.setup.focusedMenuItem && d.setup.focusedMenuItem.parentNode.parentNode.parentNode & &  (d.setup.focusedMenuItem.parentNode.classList.add("active"),  f(d.setup.focusedMenuItem.parentNode.parentNode.parentNode.getElementsByTagName("a"), D))  }  f unction w(D)  { d.setup.focusedMenuItem  &&  d.setup.focusedMenuItem.parentNode.nextSibling && (d.setup.focusedMenuItem.parentNode.classList.remove("active"),  f(d.setup.focusedMenuItem.parentNode.nextSibling.getElementsByTagName"a"), D) ) }   function N(D) {  d.setup.focusedMenuItem & &  d.setup.focusedMenuItem.parentNode.previousSibling && (d.setup.focusedMenuItem.parentNode.classList.remove("active"), f(d.setup.focusedMenuItem.parentNode.previousSibling.getElementsByTagName(""), D) ) }   nction S() { f unction D(E)  { f  (d.isElement()){   try  E.blur() } cat ch (I)  }   E .parentNode &&  E.parentNode.classList.remove("active"),  E.classList.contains("amExportButton") || D (E.parentNode)} }  d.setup.focusedMenuItem  &&  (D(d.setup.focusedMenuItem), d.setup.focusedMenuItem   void )  var T =   d.drawing.buffer.target, M  =   -1 != ["top-left", "bottom-left"].indexOfdcng.position), F =  - 1  ! =  ["top-right", "bottom-right"].ndexOf(d.config.position);  if (d.setup.focusedMenuItem & &  -1!= 37,3 8, 9, 40 , 1 3,  9, 27].indexOf(u.keyCode))  { if (9 ==  ukeyCode) return void  (d.setup.focusedMenuItem.nextSibling ?  u .shiftKey  && d.setup.focusedMenuItem.parentNodeclassList.remove("active")  : (d.setup.focusedMenuItem.parentNode.classList.remove("active"), !d.setup.focusedMenuItem.parentNode.nextSibling  && (d.setup.focusedMenuItem.parentNode.classList.remove("active"), d.setup.focusedMenuItem.parentNode.parentNode.parentNode.classList.remove("active")))); 1 3 == u .kyCode & &  d.setup.focusedMenuItem.nxtSibling & &  ), 3 7 ==  u. yCode && ( F  ?    : m() ), 39  == u .keyCode   ( F ? m():   h()), 40 =  u.keyCode &&  w() 38  == u. keyCode && N() 27 == u.ke yoe && S() }  (8   == u. keyCode || 4 6 ==  u.keyCode) & T  ?   (u.preventDefault(),  d.setup.fabric.remove(T)) : 27 == u .keyCode  && drawing.enabled ?   (u.preventDefault(), d.drawing.buffer.isSelected ?   d.setup.fabric.discardActiveObject() : d.drawing.handler.done()) :  67 ==  u.keyCode && (u.metaKey ||  u.ctrlKey) && T  ?  d.drawingbfer.copy = T  : 88 = = u.keyCode &&  .metaKey || u .c trlKey) && T ?  ( d.drawing.buffer.copy  = T  d.setup.fabric.remove(T)  : 86 ==  u.keyCode & &  (.etaKey | | u .ctrlKey)  ? d.drawing.buffer.copy  && c(d.drawing.buffer.copy.clone(c)) : 90  ==  u.keyCode &&  (u .metaKey | | u.ctrlKey)  && u.preventDefault(), u.shiftKey  ? d.drawing.handler.redo() : d.drawing.handler.undo))} ,  d.config.keyListener  = "attached",  document.addEventListener("keydown", d.docListener),  d.addListenerToRemove("keydown", d ocument,  d.docListener)), d.config.fileListener  && (d.setup.chart.containerDiv.addEventListener("dragover", d.handleDropbox),  d.addListenerToRemove("dragover",  d.setup.chart.containerDiv, d.handleDropbox), d.setup.chart.containerDiv.addEventListener("dragleave", d .handleDropbox),  d.addListenerToRemove("dragleave", d.setup.chart.containerDiv,  d.handleDropbox), d.setup.chart.containerDiv.addEventListener("drop",  d.handleDropbox), d.addListenerToRemove("drop",  d.setup.chart.containerDiv,  d.handleDropbox))}, i nit: function()  { clearTimeout(s),   = setInterval(function() {  d.setup & &  d.setup.chart.containerDiv &&  (clearTimeout(s), d.config.enabled & & ( d.setup.chart.AmExport =  d, d.config.overflow &&  (d.setup.chart.div.style.overflow =  "visible"),  d.loadListeners(), d.createMenu(d.config.menu)  d.handleReady(d.config.nReady))) },  AmCharts.updateRate) }, c onstruct:  function() { ddrawing.handler.cancel = . drawing.handler.done; t ry { d.setup.hasBlob = !!new Blob }  catch (c) { } window.safari  = window.safari   window.safari : { }, d.defaults.fabric.drawing.fontSize =  d.setup.hart.fontSize | | 11 , d.config.drawing =   d.deepMerge(d.defaults.fabric.drawing, d .config.drawing || {}, ! 0), d.config.border  && (d.config.border  = d.deepMerge(d.defaults.fabric.border, d.config.border  || {}, !0)), d.deepMerge(d.defaults.fabric,  d.config, !0)  d.deepMerge(d.defaults.fabric, d.config.abric | | {},  !0), d.deepMerge(d.defaults.pdfMake, d. config, ! 0),  d.deepMerge(d.defaults.pdfMake, d.config.pdfMake || { }, !0),  d.deepMerge(d.lbs, . config.lib || {},  !0), d. config.drawing =  d .defaults.fabric.drawing,  d.config.fabric = d.defaults.fabric,  d.config.pdfMake =   d.defaults.pdfMake,  d.config =  d.deepMerge(ddefaults, d .config,  !0), d.config.fabric.drawing.enabled &&  void 0 = ==  d.config.fabric.drawing.menu && (d.config.fabric.drawing.menu =   [], d.deepMerge(d.config.fabric.drawing.menu, [{ "class": "export-drawing",e nu: {  l abel:  d.i18l("menu.label.draw.add"), men u: [{  l abel:  d.i18l("menu.label.draw.shapes"), action: "d raw.shapes" } ,  { label  d.i18l("menu.label.draw.text")  action: "text"  },   l abel:  d.i18l("menu.label.draw.change"), me nu: [ {  label: d.i18l("menu.label.draw.modes"), action:" draw.modes" } ,  { label  d.i18l("menu.label.draw.colors"), ction: draw.colors" },  {  label:  d.i18l("menu.label.draw.widths"), action  "draw.widths" } , { label:  d.i18l("menu.label.draw.opacities"), action: "draw.opacities" },  " UNDO", " REDO"]  }, { label:  d.i18l("menu.label.save.image"), men u: [" PNG", " JPG",  "SVG", "PDF"  }, "PRINT",  "CANCEL"]  }])), oid 0  === d.config.menu & &  (dconfig.menu  = [], d.deepMerge(d.config, {  m enu:  [{ "class"  "export-main", menu: [{ label:  d.i18l("menu.label.save.image"), menu:  ["PNG", " JPG",  "SVG", " F"] },  {   label: d.i18l("menu.label.save.data"), menu: ["CSV", "XLS X", "JSON"] },  {  l abel: d .i18l(menu.label.draw"), a ction:  "draw", menu  d.config.fabric.drawing.menu  } {  format: "PRINT", label: d.i18l("menu.label.print") }]  } ]  })), d.libs.pth ||  (d.libs.path =  d .config.path  + "libs/"), d.setup.hasClasslist | |  d.libs.resources.push("classList.js/classList.min.js"),  d.isSupported() && (d.loadDependencies(d.libs.resources, d.libs.reload), d.setup.chart.addClassNames =  !0,  d.setup.chart[.ame] =   d. init()) } } ; if  (r) d. config =  r;  else if (d.setup.cart[d.name]) d.cnfig =  d .setup.chart[d.name]; else if (d.setup.chart.amExport |  d.setup.chart.exportConfig)  d.onfig =   d.migrateSetup(d.setup.chart.amExport | |  d.setup.chart.exportConfig) else return;  return d.construct(),. deepMerge(this, d ) } }(), AmCharts.addInitHandler(function(t) { new AmCharts["export"](t) }, ["pie", "serial", "xy", "funnel", "radar", "gauge", "stock", "map", "gantt"]);
